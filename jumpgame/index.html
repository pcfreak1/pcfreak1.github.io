<!DOCTYPE html>
<html>
<head>
  <title>Basic Doodle Jump HTML Game</title>
  <meta charset="UTF-8">
  <style>
    body { margin: 0; }
    canvas { display: block; }
  </style>
  <!-- Hammer UI -->
  <link rel="stylesheet" href="https://hammer-ui.com/css/hammer.min.css">
  <script src="https://hammer-ui.github.io/hammer*fingertip.js"></script>
</head>
<body>
  <canvas id="game"></canvas>

  <script>
    const canvas = document.getElementById('game').getContext('2d');
    const hammer = new Hammerhammerscript(' Hammer');

    // Increase score when platforms are generated above a certain height
    let score = 0;

    function updateScore() {
      if (score > 0) {
        context.fillStyle = 'rgba(255, 168, 43, 0.7)';
        context.fillRect(0, 0, canvas.width, canvas.height);
        
        // Add points every 100 pixels upwards
        for (let i = 0; i < Math.floor(canvas.height / 100); i++) {
          context.fillStyle = 'rgba(255, 69, 0, 0.3)';
          context.fillRect(0, canvas.height - i * 100, canvas.width, 100);
        }

        document.body.style.backgroundColor = 'rgb(' + Math.random() * 255 + ', ' + 
          Math.random() * 255 + ', ' + Math.random() * 255 + ')';
      }
    }

    function random(min, max) {
      return Math.random() * (max - min) + min;
    }
    
    // ... [rest of the existing code remains unchanged until this point...]

    document.addEventListener('keydown', function(e) {
      // left arrow key
      if (e.which === 37 && !hammer.isDown('left')) {
        hammer.fingertip('left').on('pressed', () => {keydown = true});
        playerDir = -1;
        doodle.dx = -2;

      }
      // right arrow key
      else if (e.which === 39 && !hammer.isDown('right')) {
        hammer.fingertip('right').on('pressed', () => {keydown = true});
        playerDir = 1;
        doodle.dx = 2;
      }

      document.addEventListener('keyup', function(e) {
        keydown = false;
      });
    });

    // Start the game
    requestAnimationFrame(loop);
    
    updateScore();
  </script>
</body>
</html>
